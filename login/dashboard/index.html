<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>iSMART Investment</title>

  <!-- MATERIAL CDN -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet" />

  <!-- STYLESHEET -->
  <link rel="stylesheet" href="./style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">


  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-database.js"></script>


</head>


<body>



  <div class="wrapper-loader">

    <div class='loader'></div>

    <p class="get" id="typing-dots">Getting Things Ready</p>

  </div>









  <div class="alert hide">
    <span class="fas fa-exclamation-circle"></span>
    <span class="msg"></span>
    <div class="close-btn">
      <span class="fas fa-times"></span>
    </div>
  </div>









  <div class="container">

    <aside>

      <div class="top">
        <div class="logo">
          <i class="fas fa-coins"></i>
          <h2 style="font-family: 'Lilita One', cursive; font-weight: 100">
            <span class="ilog">i</span><span class="log">SMART</span>
          </h2>
        </div>
        <div class="close" id="close-btn">
          <span class="material-icons-sharp">close</span>
        </div>
      </div>

      <div class="sidebar">
        <a class="active" title="Dashboard">
          <span class="material-icons-sharp">person_outline</span>
          <h3>Dashboard</h3>
        </a>

        <a href="../packages/" title="Packages">
          <span class="material-icons-sharp">grid_view</span>
          <h3>Packages</h3>
        </a>

        <a href="../transactions/" title="Statements">
          <span class="material-icons-sharp">receipt_long</span>
          <h3>Statements</h3>
        </a>

        

        <a href="../withdraw/" title="Products">
          <span class="material-icons-sharp">inventory</span>
          <h3>Withdraw</h3>
        </a>


        <a href="" title="Analytics">
          <span class="material-icons-sharp">insights</span>
          <h3>Analytics</h3>
        </a>

        <a href="../profile/" title="Profile">
          <span class="fas fa-user" style="font-size: 18px;"></span>
          <h3>Profile</h3>
        </a>

        <a id="logout" style="color: rgb(247, 147, 147);"  title="Logout">
          <span class="material-icons-sharp">logout</span>
          <h3>Logout</h3>
        </a>
        



      </div>

    </aside>


    <!------------------ END OF ASIDE ------------------>


    <style>

      @media(min-width:768px){
        .recent-orders{
          margin-top: 100px!important;
        }
        .recent-updates{
          margin-top: 50px!important;
        }
        .bon{
          margin-bottom: 30px!important;
          text-align: center;
        }
        .sales-analytics h2{
text-align: center;
        }
      }

    </style>



    <!------------------ Main Starts Here ------------------>


    <main>

      <h1>Dashboard</h1>

      <div class="welcome">
        Hi, <span style="margin-left: 2px;" id="user-name"></span>
      </div>




      <div class="insights" style="display: flex; flex-direction:column">

        <div class="sales">

          <span class="material-icons-sharp">analytics</span>

          <div class="middle">

            <div class="left">
              <h3>Weekly Investment</h3>
              <div style="display: flex; gap:4px;">
                <h1 id="week-investment">
                </h1>
                <spa class="money-kes">KES</spa>
              </div>

            </div>



            <div class="progress">
              <svg>
                <defs>
                  <!-- Define the linear gradient -->
                  <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:  #7380ec;" />
                    <stop offset="100%" style="stop-color: #7bc5f6;" />
                  </linearGradient>
                </defs>
                <circle class="circle-bg" cx="38" cy="38" r="36"></circle>
                <circle class="circle-progress" cx="38" cy="38" r="36" stroke="url(#gradient)"></circle>
              </svg>
              <div class="number">
                <p id="weekPercentage" style="font-weight: 600;"></p>
              </div>
            </div>


          </div>

          <small class="text-muted">This Week's Investment</small>

        </div>
        <!------------ END OF INVESTMENT -------------->







        <div class="expenses">
          <span class="material-icons-sharp">bar_chart</span>
          <div class="middle">
            <div class="left">
              <h3>Expected Revenue</h3>
              <small class="text-muted" style="margin-top: 0px; padding-bottom:3px; font-weight:700; color: #0ed492d3">+
                35%</small>
              <div style="display: flex; gap:4px;">
                <h1>
                </h1>
                <spa class="money-kes">KES</spa>
              </div>




            </div>


            <div class="progress">
              <svg>
                <circle class="circle-bg" cx="38" cy="38" r="36"></circle>
                <circle class="circle-progress" cx="38" cy="38" r="36" stroke="url(#gradient)"></circle>
                <defs>
                  <!-- Define the linear gradient -->
                  <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color: #1845ad;" />
                    <stop offset="100%" style="stop-color: #23a2f6;" />
                  </linearGradient>
                </defs>
              </svg>

              <div class="number">
                <p id="weekRevenuePercentage" style="font-weight: 600;"></p>
              </div>
            </div>


          </div>
          <small class="text-muted">Your revenue at the end of this week.</small>
        </div>
        <!------------ END OF Weeks Revenue -------------->







        <div class="income">
          <span class="material-icons-sharp">stacked_line_chart</span>
          <div class="middle">
            <div class="left">
              <h3>Cumulative Revenue</h3>
              <div style="display: flex; gap:4px;">
                <h1 id="cummulative">
                </h1>
                <spa class="money-kes">KES</spa>
              </div>

            </div>
            <div class="progress">
              <svg>
                <circle class="circle-bg" cx="38" cy="38" r="36"></circle>
                <circle class="circle-progress" cx="38" cy="38" r="36" stroke="url(#gradient)"></circle>
                <defs>
                  <!-- Define the linear gradient -->
                  <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color: #1845ad;" />
                    <stop offset="100%" style="stop-color: #23a2f6;" />
                  </linearGradient>
                </defs>
              </svg>

              <div class="number">
                <p class="cummulativeInvestment" style="font-weight: 600;">44%</p>
              </div>
            </div>
          </div>
          <small class="text-muted">Total revenue since you started.</small>
        </div>
        <!------------ END OF total revenue -------------->




      </div>
      <!------------ END OF INSIGHTS -------------->







      <div class="recent-orders" style="margin-top:50px;">
        <h2 style="margin-left:8px; margin-bottom:25px!important">Recent Transactions</h2>
        <table style="font-weight: 500;  ">
          <thead>
            <tr>
              <th></th>
              <th style="text-align: left;" class="stat-am">Reference No.</th>
              <th style="text-align: left; padding-right:30px!important;">Amount</th>
              <th style="text-align: left;" class="stat">Status</th>
              <th style="text-align: left; ">Transaction Date And Time</th>
            </tr>
          </thead>
          <tbody>
            <!-- Your JavaScript code to populate rows will go here -->
          </tbody>
        </table>



        <a href="../transactions/" class="showall">Show All</a>
      </div>




    </main>
    <!----------------- END OF MAIN -------------------->

    <div class="right">
      <div class="top">
        <button id="menu-btn">
          <svg xmlns="http://www.w3.org/2000/svg" height="21px" viewBox="0 0 448 512">
            <path
              d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z" />
          </svg>
        </button>
        <div class="theme-toggler">
          <span class="material-icons-sharp">dark_mode</span>
          <span class="material-icons-sharp active">light_mode</span>

        </div>
        <div class="profile">
          <div class="info">
            <p>Hey, <b id="username2"></b></p>
            <small class="text-muted">User</small>
          </div>




























          <!-- Clickable profile photo -->
          <div class="profile-photo"
            style="margin-top: 0px; display:flex; justify-content:center;align-items:center; position:relative; overflow:visible;"
            onclick="showImageUploadPopup()">
            <img style="border-radius: 50%;" id="profileImage" src="" />
            <div class="online-dot"></div>
          </div>

          <style>
            /* Add this CSS to your stylesheet */
            .online-dot {
              width: 5px;
              height: 5px;
              background-color: rgb(24, 211, 24);
              border-radius: 50%;
              position: absolute;
              bottom: 3px;
              right: 3px;
              animation: blink 1s infinite;
            }

            @keyframes blink {

              0%,
              100% {
                opacity: 0;
              }

              50% {
                opacity: 1;
              }
            }
          </style>


          <!-- Pop-up dialog for image upload -->
          <div class="popup-container" id="popupContainer">
            <div class="popup-content">

              <input type="file" id="photo" onchange="uploadImageAndStoreUrl();" />

            </div>
          </div>































          <script>
            document.addEventListener("DOMContentLoaded", function () {
              const avatars = document.querySelectorAll(".avatars img");
              const profileImage = document.getElementById("profileImage");

              // Load avatar from local storage if available
              const savedAvatar = localStorage.getItem("selectedAvatar");
              if (savedAvatar) {
                profileImage.setAttribute("src", savedAvatar);
              }

              avatars.forEach(avatar => {
                avatar.addEventListener("click", function () {
                  const avatarSrc = avatar.getAttribute("src");
                  profileImage.setAttribute("src", avatarSrc);
                  localStorage.setItem("selectedAvatar", avatarSrc); // Store in local storage
                });
              });
            });
          </script>


















        </div>
      </div>



            <!-- END OF TOP -->
            <div data-aos="fade-up" data-aos-delay="200" class="recent-updates" style="padding-top: -5px!important;">
              <h2 class="bon" style="margin-left:8px; margin-bottom:25px!important"> Rewards & Bonuses </h2>
            
            
              <div class="updates"
                style="display: flex;  justify-content:center; align-items:center; text-align:center; gap:30px; border-radius:10px; box-shadow: 8px 8px 16px rgba(0, 0, 0, 0.1),
                -8px -8px 16px rgba(0, 39, 65, 0.05); background:  linear-gradient(to right, rgba(111, 83, 236, 0.983), rgba(255, 255, 255, 0.998));">
            
                <img style="width: 100px;" src="../../img/1693403833596.png" alt="">
            
                <h3 class="uph3" style="  color: #111e88;">
                  Get 40,000 KES for investing consistently for 6 weeks.
                </h3>
            
            
            
            
            
            
            
            
            
            
            
              </div>
            
            
            
            
              <div class="updates"
                style="display: flex;  justify-content:center; align-items:center; text-align:center; gap:30px; border-radius:10px; box-shadow: 8px 8px 16px rgba(0, 0, 0, 0.1),
                -8px -8px 16px rgba(255, 255, 255, 0.05); margin-top:10px; background:  linear-gradient(to right, rgba(159, 83, 236, 0.983), rgba(255, 255, 255, 0.998));">
            
                <img style="width: 100px;" src="../../img/1693403943333.png" alt="">
            
                <h3 class="uph3" style="  color: #581188; padding:0 5px">
                  Get a 100,000 KES bonus for consistently investing 50,000 KES for 4 weeks.
                </h3>
            
            
            
            
            
            
            
            
            
            
            
              </div>
            
            
            </div>
            
            <!----------------- END OF bonuses-------------------->







      <div class="sales-analytics" style="padding-top: 20px;">
        <h2 style="margin-left:8px; margin-bottom:25px!important">Quick Links</h2>




        <div class="item customers" id="contact-us">
          <div class="icon">
            <span class="material-icons-sharp">person</span>
          </div>
          <div class="right">
            <div class="info">
              <h3>CONTACT US</h3>
              <small class="text-muted">Available daytime</small>
            </div>
            <h5 class="success">Online</h5>
            <h3></h3>
          </div>
        </div>


        <script>document.addEventListener("DOMContentLoaded", function () {
            const contactUsDiv = document.getElementById("contact-us");

            contactUsDiv.addEventListener("click", function () {
              window.location.href = "tel:0745179023";
            });
          });
        </script>





        <div class="item online" id="whatsapp-us">
          <div class="icon">
            <span class="material-icons-sharp">chat</span>
          </div>

          <div class="right">
            <div class="info">
              <h3>WHATSAPP US</h3>
              <small class="text-muted">Online</small>
            </div>
            <h5 class="success">Online</h5>
            <h3></h3>
          </div>
        </div>

        <script>document.addEventListener("DOMContentLoaded", function () {
            const whatsappUsDiv = document.getElementById("whatsapp-us");

            whatsappUsDiv.addEventListener("click", function () {
              window.location.href = "https://wa.me/254773602480";
            });
          });
        </script>





        <div class="item offline" id="email-us">
          <div class="icon">
            <span class="material-icons-sharp">email</span>
          </div>
          <div class="right">
            <div class="info">
              <h3>EMAIL</h3>
              <small class="text-muted">For official business</small>
            </div>
            <h5 class="danger">Offline</h5>
            <h3></h3>
          </div>
        </div>

        <script>document.addEventListener("DOMContentLoaded", function () {
            const emailUsDiv = document.getElementById("email-us");
            const emailAddress = "captiosuskhid@gmail.com";

            emailUsDiv.addEventListener("click", function () {
              window.location.href = "mailto:" + emailAddress;
            });
          });





        </script>







        <a href="../profile/">
          <div class="item add-product">
            <div>
              <span class="material-icons-sharp">add</span>
              <h3>Edit Profile</h3>
            </div>
          </div>
        </a>

      </div>
    </div>
  </div>





  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js"></script>





  <script src="./refresh.js" type="module"></script>


  <script src="./index.js"></script>
</body>

</html>